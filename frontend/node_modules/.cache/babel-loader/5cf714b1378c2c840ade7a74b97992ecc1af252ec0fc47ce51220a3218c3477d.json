{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=_ref=>{let{setUsername}=_ref;const[username,setUsernameLocal]=useState('');const[password,setPassword]=useState('');const[isRegister,setIsRegister]=useState(false);const[errorMessage,setErrorMessage]=useState('');const[successMessage,setSuccessMessage]=useState('');const navigate=useNavigate();const handleLogin=async e=>{e.preventDefault();try{const response=await axios.post('https://mdawg96.github.io/bruin-planner/login/',{username,password});if(response.data.auth==='success'){setUsername(username);localStorage.setItem('username',username);navigate('/planner');}else{setErrorMessage('Login Failed.');}}catch(error){setErrorMessage('Login Failed.');}};const handleRegister=async e=>{e.preventDefault();try{const response=await axios.post('https://mdawg96.github.io/bruin-planner/create_an_account/',{username,password},{headers:{'Content-Type':'application/json'}});if(response.data.status==='success'){setSuccessMessage('Registration successful. Please log in.');setErrorMessage('');setIsRegister(false);resetForm();}else{setErrorMessage('Registration failed: '+response.data.message);setSuccessMessage('');}}catch(error){setErrorMessage('Registration failed: '+error.message);setSuccessMessage('');}};const toggleToRegister=()=>{setIsRegister(true);setErrorMessage('');setSuccessMessage('');resetForm();};const toggleToLogin=()=>{setIsRegister(false);setErrorMessage('');setSuccessMessage('');resetForm();};const resetForm=()=>{setUsernameLocal('');setPassword('');};const containerStyle={position:'fixed',top:'40%',left:'50%',transform:'translate(-50%, -50%)',padding:'20px',width:'40%',height:'auto',maxWidth:'800px',color:'black',fontSize:'1.2em',zIndex:'1000',fontFamily:'Arial',display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center',backgroundColor:'#F5F5F5',border:'1px solid #ccc',borderRadius:'10px',boxShadow:'0 4px 8px rgba(0, 0, 0, 0.1)'};const inputStyle={width:'100%',padding:'10px',margin:'10px 0',boxSizing:'border-box',borderRadius:'5px',border:'1px solid #ccc',fontSize:'1em'};const buttonContainerStyle={display:'flex',justifyContent:'space-between',width:'100%',marginTop:'10px'};const buttonStyle={padding:'10px 20px',fontSize:'1em',cursor:'pointer',border:'none',borderRadius:'5px',backgroundColor:'#61dafb',color:'#fff',textDecoration:'none',textAlign:'center',transition:'background-color 0.3s ease'};const toggleButtonStyle={padding:'10px 20px',fontSize:'1em',cursor:'pointer',border:'none',borderRadius:'5px',backgroundColor:'#ccc',color:'#000',textDecoration:'none',textAlign:'center',transition:'background-color 0.3s ease'};const errorStyle={color:'red',marginTop:'10px',padding:'10px',border:'1px solid red',borderRadius:'5px',width:'100%',textAlign:'center',backgroundColor:'#fdd'};const successStyle={color:'green',marginTop:'10px',padding:'10px',border:'1px solid green',borderRadius:'5px',width:'100%',textAlign:'center',backgroundColor:'#dfd'};return/*#__PURE__*/_jsxs(\"div\",{style:containerStyle,children:[errorMessage&&/*#__PURE__*/_jsx(\"div\",{style:errorStyle,children:errorMessage}),successMessage&&/*#__PURE__*/_jsx(\"div\",{style:successStyle,children:successMessage}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:isRegister?handleRegister:handleLogin,style:{width:'100%'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:username,onChange:e=>setUsernameLocal(e.target.value),required:true,autoComplete:\"username\",style:inputStyle})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:e=>setPassword(e.target.value),required:true,autoComplete:isRegister?\"new-password\":\"current-password\",style:inputStyle})]}),/*#__PURE__*/_jsxs(\"div\",{style:buttonContainerStyle,children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:buttonStyle,children:isRegister?'Register':'Login'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:isRegister?toggleToLogin:toggleToRegister,style:toggleButtonStyle,children:isRegister?'Go to Login':'Register an Account'})]})]})]});};export default Login;","map":{"version":3,"names":["React","useState","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","_ref","setUsername","username","setUsernameLocal","password","setPassword","isRegister","setIsRegister","errorMessage","setErrorMessage","successMessage","setSuccessMessage","navigate","handleLogin","e","preventDefault","response","post","data","auth","localStorage","setItem","error","handleRegister","headers","status","resetForm","message","toggleToRegister","toggleToLogin","containerStyle","position","top","left","transform","padding","width","height","maxWidth","color","fontSize","zIndex","fontFamily","display","flexDirection","alignItems","justifyContent","backgroundColor","border","borderRadius","boxShadow","inputStyle","margin","boxSizing","buttonContainerStyle","marginTop","buttonStyle","cursor","textDecoration","textAlign","transition","toggleButtonStyle","errorStyle","successStyle","style","children","onSubmit","type","value","onChange","target","required","autoComplete","onClick"],"sources":["/Users/roanbahri/Downloads/bruin-planner/frontend/src/components/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\n\nconst Login = ({ setUsername }) => {\n  const [username, setUsernameLocal] = useState('');\n  const [password, setPassword] = useState('');\n  const [isRegister, setIsRegister] = useState(false);\n  const [errorMessage, setErrorMessage] = useState('');\n  const [successMessage, setSuccessMessage] = useState('');\n  const navigate = useNavigate();\n\n  const handleLogin = async (e) => {\n    e.preventDefault();\n    try {\n      const response = await axios.post('https://mdawg96.github.io/bruin-planner/login/', { username, password });\n      if (response.data.auth === 'success') {\n        setUsername(username);\n        localStorage.setItem('username', username);\n        navigate('/planner');\n      } else {\n        setErrorMessage('Login Failed.');\n      }\n    } catch (error) {\n      setErrorMessage('Login Failed.');\n    }\n  };\n\n  const handleRegister = async (e) => {\n    e.preventDefault();\n    try {\n      const response = await axios.post('https://mdawg96.github.io/bruin-planner/create_an_account/', { username, password }, {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      if (response.data.status === 'success') {\n        setSuccessMessage('Registration successful. Please log in.');\n        setErrorMessage('');\n        setIsRegister(false);\n        resetForm();\n      } else {\n        setErrorMessage('Registration failed: ' + response.data.message);\n        setSuccessMessage('');\n      }\n    } catch (error) {\n      setErrorMessage('Registration failed: ' + error.message);\n      setSuccessMessage('');\n    }\n  };\n\n  const toggleToRegister = () => {\n    setIsRegister(true);\n    setErrorMessage('');\n    setSuccessMessage('');\n    resetForm();\n  };\n\n  const toggleToLogin = () => {\n    setIsRegister(false);\n    setErrorMessage('');\n    setSuccessMessage('');\n    resetForm();\n  };\n\n  const resetForm = () => {\n    setUsernameLocal('');\n    setPassword('');\n  };\n\n  const containerStyle = {\n    position: 'fixed',\n    top: '40%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n    padding: '20px',\n    width: '40%',\n    height: 'auto',\n    maxWidth: '800px',\n    color: 'black',\n    fontSize: '1.2em',\n    zIndex: '1000',\n    fontFamily: 'Arial',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#F5F5F5',\n    border: '1px solid #ccc',\n    borderRadius: '10px',\n    boxShadow: '0 4px 8px rgba(0, 0, 0, 0.1)',\n  };\n\n  const inputStyle = {\n    width: '100%',\n    padding: '10px',\n    margin: '10px 0',\n    boxSizing: 'border-box',\n    borderRadius: '5px',\n    border: '1px solid #ccc',\n    fontSize: '1em',\n  };\n\n  const buttonContainerStyle = {\n    display: 'flex',\n    justifyContent: 'space-between',\n    width: '100%',\n    marginTop: '10px',\n  };\n\n  const buttonStyle = {\n    padding: '10px 20px',\n    fontSize: '1em',\n    cursor: 'pointer',\n    border: 'none',\n    borderRadius: '5px',\n    backgroundColor: '#61dafb',\n    color: '#fff',\n    textDecoration: 'none',\n    textAlign: 'center',\n    transition: 'background-color 0.3s ease',\n  };\n\n  const toggleButtonStyle = {\n    padding: '10px 20px',\n    fontSize: '1em',\n    cursor: 'pointer',\n    border: 'none',\n    borderRadius: '5px',\n    backgroundColor: '#ccc',\n    color: '#000',\n    textDecoration: 'none',\n    textAlign: 'center',\n    transition: 'background-color 0.3s ease',\n  };\n\n  const errorStyle = {\n    color: 'red',\n    marginTop: '10px',\n    padding: '10px',\n    border: '1px solid red',\n    borderRadius: '5px',\n    width: '100%',\n    textAlign: 'center',\n    backgroundColor: '#fdd',\n  };\n\n  const successStyle = {\n    color: 'green',\n    marginTop: '10px',\n    padding: '10px',\n    border: '1px solid green',\n    borderRadius: '5px',\n    width: '100%',\n    textAlign: 'center',\n    backgroundColor: '#dfd',\n  };\n\n  return (\n    <div style={containerStyle}>\n      {errorMessage && <div style={errorStyle}>{errorMessage}</div>}\n      {successMessage && <div style={successStyle}>{successMessage}</div>}\n      <form onSubmit={isRegister ? handleRegister : handleLogin} style={{ width: '100%' }}>\n        <div>\n          <label>Username:</label>\n          <input\n            type=\"text\"\n            value={username}\n            onChange={(e) => setUsernameLocal(e.target.value)}\n            required\n            autoComplete=\"username\"\n            style={inputStyle}\n          />\n        </div>\n        <div>\n          <label>Password:</label>\n          <input\n            type=\"password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            required\n            autoComplete={isRegister ? \"new-password\" : \"current-password\"}\n            style={inputStyle}\n          />\n        </div>\n        <div style={buttonContainerStyle}>\n          <button type=\"submit\" style={buttonStyle}>{isRegister ? 'Register' : 'Login'}</button>\n          <button\n            type=\"button\"\n            onClick={isRegister ? toggleToLogin : toggleToRegister}\n            style={toggleButtonStyle}\n          >\n            {isRegister ? 'Go to Login' : 'Register an Account'}\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}